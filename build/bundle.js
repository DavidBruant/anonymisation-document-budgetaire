(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){Array.from(e.getElementsByTagName("CONCOURS")).forEach(function(e){var t=e.getElementsByTagName("CodNatJurBenefCA")[0];t&&t.getAttribute("V")===CodNatJurBenefPersonnesPhysiques&&e.getElementsByTagName("LibOrgaBenef")[0].setAttribute("V",ANONYMIZED_NAME)})};var ANONYMIZED_NAME="Nom anonymisÃ©",CodNatJurBenefPersonnesPhysiques="P3";
},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function makeAnonimizedFile(e){return new Promise(function(n,t){var r=new FileReader;r.addEventListener("loadend",function(e){n(r.result)}),r.readAsText(e)}).then(function(n){var t=n.indexOf(BEFORE_ENCODING)+BEFORE_ENCODING.length,r=n.indexOf('"',t),i=n.slice(t,r);return new Promise(function(n,t){var r=new FileReader;r.addEventListener("loadend",function(e){n(r.result)}),r.readAsText(e,i)})}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){return(0,_index2.default)(e),e}).then(function(e){return(new XMLSerializer).serializeToString(e)})}var _index=require("../../index.js"),_index2=_interopRequireDefault(_index),BEFORE_ENCODING='encoding="';document.addEventListener("DOMContentLoaded",function(e){var n=document.body.querySelector('.input input[type="file"]'),t=document.body.querySelector(".output");n.addEventListener("input",function(e){var r=Array.from(e.target.files),i=document.createElement("ul");r.forEach(function(e){var n=document.createElement("li");n.textContent=e.name,i.append(n)}),n.replaceWith(i);var o=document.createElement("ul");r.forEach(function(e){var n=e.name,t=document.createElement("li");t.textContent=n,o.append(t),makeAnonimizedFile(e).then(function(e){var r=new Blob([e],{type:"text/xml"}),i=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",n),o.textContent=n,t.innerHTML="",t.append(o)})}),t.append(o)})},{once:!0});
},{"../../index.js":1}]},{},[2]);
